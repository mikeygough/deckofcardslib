<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Tacky Magic Trick</title>
    <style>
      body {
        font-family: 'Helvetica', sans-serif;
      }
    </style>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22 fill=%22currentColor%22><path fill-rule=%22evenodd%22 d=%22M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z%22 clip-rule=%22evenodd%22 /></svg>"
      type="image/svg+xml"
    />
  </head>
  <body>
    <h1>Tacky Magic Trick</h1>
    <h2>Peep open the console and be amazed!</h2>
    <script type="module">
      import { Card, DeckOfCards } from './dist/bundle.esm.js';

      const deck = new DeckOfCards();

      console.log(
        'Hello hello, welcome to the great tacky magic show!'
      );

      console.log(
        "Here I'll demonstrate the magical power of the @mikeygough/deck-of-cards library. Prepare to be amazed!"
      );

      console.log(
        'Allow me to shuffle this deck... *shuffle* *shuffle* *shuffle*'
      );

      deck.shuffle();
      deck.shuffle();
      deck.shuffle();

      console.log(
        '...Now that the deck has been thoroughly shuffled, draw a card, right from the top.'
      );

      const yourCard = deck.draw();

      console.log(
        "Take a peek, with the 'toEmoji' method, but don't show anybody else."
      );

      console.log(`Your Card: ${yourCard.toEmoji()}`);

      console.log('Have you memorized it yet?');

      console.log(
        'Excelllllent, now slip it on the bottom of the deck.'
      );

      deck.slipCard(yourCard);

      console.log(
        "Now I'll hand the deck to you. Give it a good mixing. You can shuffle can't you?"
      );

      deck.shuffle();

      console.log('* Dramatic Pause While You Shuffle *');

      console.log("Wonderful, I'd say that's sufficient.");

      console.log(
        'What I want you to do now is imagine your card. Picture it vividly in your mind. The suit. The color. The value...'
      );

      console.log(`* Suit ${yourCard.suit} * `);
      console.log(`* Color ${yourCard.color} * `);
      console.log(`* Value ${yourCard.value} * `);

      console.log(
        "I'm going to look through the deck now here until I find your card..."
      );

      let searching = true;
      while (searching) {
        let newCard = deck.draw();
        if (yourCard == newCard) {
          searching = false;
          console.log(
            "You have a very strong mind... I think I've found your card..."
          );
          console.log(`Was your card the ${newCard.toEmoji()}?`);
        } else {
          deck.discard(newCard);
        }
      }
    </script>
  </body>
</html>
